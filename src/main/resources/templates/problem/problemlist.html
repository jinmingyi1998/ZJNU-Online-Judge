<!--
  ~ Copyright (c) 2019. Lorem ipsum dolor sit amet, consectetur adipiscing elit.
  ~ Morbi non lorem porttitor neque feugiat blandit. Ut vitae ipsum eget quam lacinia accumsan.
  ~ Etiam sed turpis ac ipsum condimentum fringilla. Maecenas magna.
  ~ Proin dapibus sapien vel ante. Aliquam erat volutpat. Pellentesque sagittis ligula eget metus.
  ~ Vestibulum commodo. Ut rhoncus gravida arcu.
  -->

<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:insert="~{fragment/header :: header}"></th:block>
    <meta charset="UTF-8">
    <title>Problem List</title>
    <style>
        .list-group-item {
            background: rgba(255, 255, 255, 0.8);
        }
    </style>
</head>
<body>
<div class="container">
    <div class="row">
        <div class="col-9">
            <form action="" class="form-inline">Search: <input class="form-control" name="search" type="text">
                <button class="btn">Search</button>
            </form>
            <ul class="list-group">
                <li class="list-group-item card" style="margin: 10px;" th:each="problem,iterStat:${problems.content}">
                    <div class="card-body">
                        <h4 class="card-title">
                            <a th:href="'/showproblem?id='+${problem.id}"
                               th:text="${problem.id}+'  '+${problem.title}"></a></h4>
                        <ul class="card-text text-muted list-inline">
                            <li class="list-inline-item" th:text="'Submit : '+${problem.submit}"></li>
                            <li class="list-inline-item" th:text="'Accepted : '+${problem.accepted}"></li>
                            <li class="list-inline-item" th:text="'Ratio : '+${problem.ratio}"></li>
                        </ul>
                    </div>
                </li>
            </ul>
            <ul class="pagination">
                <li class="page-item"><a class="page-link" th:href="@{${url}(page=${problems.number -1})}">Last</a></li>
                <li th:class="'page-item'+${i==problems.number?' active':' '}"
                    th:each="i:${#numbers.sequence(problems.number-5>=0?problems.number-5:0 ,problems.number+5>=problems.totalPages? problems.totalPages-1:problems.number+5)}">
                    <a class="page-link" th:href="@{${url}(page=${i})}" th:text="${i+1}">1</a>
                </li>
                <li class="page-item"><a class="page-link" th:href="@{${url}(page=${problems.number+1})}">Next</a></li>
            </ul>
        </div>
        <div class="col-3">
            <h1>SOMETHING...</h1>
        </div>
    </div>
</div>
<footer th:replace="~{fragment/footer :: footer}"></footer>
</body>
</html>